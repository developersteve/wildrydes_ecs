"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.md5Hash = exports.getRandomId = exports.getRandomString = void 0;
const crypto = require("crypto");
const jsonSortify_1 = require("../tools/jsonSortify");
const logger_1 = require("../logger");
const getRandomString = (evenNrChars) => crypto
    .randomBytes(evenNrChars / 2)
    .toString('hex')
    .toLowerCase();
exports.getRandomString = getRandomString;
const getRandomId = () => {
    const p1 = (0, exports.getRandomString)(8);
    const p2 = (0, exports.getRandomString)(4);
    const p3 = (0, exports.getRandomString)(4);
    const p4 = (0, exports.getRandomString)(4);
    const p5 = (0, exports.getRandomString)(12);
    return `${p1}-${p2}-${p3}-${p4}-${p5}`;
};
exports.getRandomId = getRandomId;
const md5Hash = (item) => {
    try {
        const md5sum = crypto.createHash('md5');
        md5sum.update((0, jsonSortify_1.sortify)(item));
        return md5sum.digest('hex');
    }
    catch (err) {
        (0, logger_1.getLogger)().warn('Failed to hash item', err);
        return undefined;
    }
};
exports.md5Hash = md5Hash;
//# sourceMappingURL=generalUtils.js.map